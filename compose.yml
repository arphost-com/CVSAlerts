services:
  botpeass:
    build: .
    container_name: botpeass
    restart: "no"
    environment:
      # Optional (set only what you use)
      VULNERS_API_KEY: ${VULNERS_API_KEY:-}
      SLACK_WEBHOOK: ${SLACK_WEBHOOK:-}
      DISCORD_WEBHOOK_URL: ${DISCORD_WEBHOOK_URL:-}
      TELEGRAM_BOT_TOKEN: ${TELEGRAM_BOT_TOKEN:-}
      TELEGRAM_CHAT_ID: ${TELEGRAM_CHAT_ID:-}
      PUSHOVER_DEVICE_NAME: ${PUSHOVER_DEVICE_NAME:-}
      PUSHOVER_USER_KEY: ${PUSHOVER_USER_KEY:-}
      PUSHOVER_TOKEN: ${PUSHOVER_TOKEN:-}
      NTFY_URL: ${NTFY_URL:-}
      NTFY_TOPIC: ${NTFY_TOPIC:-}
      NTFY_AUTH: ${NTFY_AUTH:-}
      # Email (one digest per run)
      EMAIL_PROVIDER: ${EMAIL_PROVIDER:-}     # smtp | sendgrid
      EMAIL_FROM: ${EMAIL_FROM:-}
      EMAIL_TO: ${EMAIL_TO:-}
      EMAIL_SUBJECT: ${EMAIL_SUBJECT:-}
      EMAIL_SEND_ON_EMPTY: ${EMAIL_SEND_ON_EMPTY:-false}
      # SMTP (if EMAIL_PROVIDER=smtp)
      SMTP_HOST: ${SMTP_HOST:-}
      SMTP_PORT: ${SMTP_PORT:-587}
      SMTP_TLS: ${SMTP_TLS:-true}
      SMTP_USER: ${SMTP_USER:-}
      SMTP_PASS: ${SMTP_PASS:-}
      # SendGrid (if EMAIL_PROVIDER=sendgrid)
      SENDGRID_API_KEY: ${SENDGRID_API_KEY:-}
    volumes:
      - ./config:/app/config
      - ./output:/app/output
